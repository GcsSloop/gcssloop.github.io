<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>让脚本说话&quot;厉害了我的哥&quot;</title>
  <meta name="description" content="让python脚本开始说话。前段时间发现 Mac 上一个有趣的方法 say 可以让系统说话。于是给我经常用的图片压缩脚本升了一下级，可以语音提示当前信息，本次升级加了安全判断，并不会影响其它平台用户的正常使用。">
  <meta name="author" content="GcsSloop">
  <meta name="keywords" content="GcsSloop, python, tinypng">
  <meta name="关键字" content="GcsSloop, python, tinypng">
  

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="让脚本说话&quot;厉害了我的哥&quot;">
  <meta name="twitter:description" content="让python脚本开始说话。前段时间发现 Mac 上一个有趣的方法 say 可以让系统说话。于是给我经常用的图片压缩脚本升了一下级，可以语音提示当前信息，本次升级加了安全判断，并不会影响其它平台用户的正常使用。">
  <meta name="twitter:keywords" content="GcsSloop, python, tinypng">
  
  <meta property="og:type" content="article">
  <meta property="og:title" content="让脚本说话&quot;厉害了我的哥&quot;">
  <meta property="og:description" content="让python脚本开始说话。前段时间发现 Mac 上一个有趣的方法 say 可以让系统说话。于是给我经常用的图片压缩脚本升了一下级，可以语音提示当前信息，本次升级加了安全判断，并不会影响其它平台用户的正常使用。">
  <meta name="og:keywords" content="GcsSloop, python, tinypng">

  <meta name="theme-color" content="#343434">
  
  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/GcsSloop/gcssloop.github.io/master/assets/siteinfo/favicon.png" />
  <link href="https://raw.githubusercontent.com/GcsSloop/gcssloop.github.io/master/assets/siteinfo/favicon.png" rel="shortcut icon" type="image/png">
  
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">

  <link rel="canonical" href="http://www.gcssloop.com/python/tinypng-voice">
  <link rel="alternate" type="application/rss+xml" title="GcsSloop" href="http://www.gcssloop.com/feed.xml">
  
  <meta name="google-site-verification" content="Z_g58PkzRAyBMxkqrcDdWrTBK8oOWM-7rUHauhLNF2E" />
  <meta name="baidu-site-verification" content="kUtTXCKaZs" />
  <meta name="baidu-site-verification" content="6DuDv3aaJX" />
  
  <!--阅读次数统计-->
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"> </script>
  
  <!--Fuck Weixin and Baidu-->
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv=”Cache-Control” content=”no-siteapp” />
  <meta name="applicable-device" content="pc,mobile">
  <meta name="HandheldFriendly" content="true"/>

  <!-- Google Ad -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-2767831356529421",
      enable_page_level_ads: true
    });
  </script>

</head>


  <body>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
    <header class="panel-cover panel-cover--collapsed" style="background-image: url('/assets/siteinfo/background-cover.jpg')">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/#blog" title="前往 GcsSloop 的主页" class="blog-button"><img src="/assets/siteinfo/avatar.jpg" width="80" alt="GcsSloop logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/#blog" title="link to homepage for GcsSloop" class="blog-button">GcsSloop</a></h1>

        
        <span class="panel-cover__subtitle panel-subtitle">Just do IT later.</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">嗨，我是 GcsSloop，一名来自2.5次元的魔法师，Android自定义View系列文章作者，非著名程序员。</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        
        
        <p class="panel-cover__description">欢迎来到我的魔法世界!</p>
        
        
        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">博客</a></li>
                
                  
                    <li class="navigation__item"><a href="https://github.com/GcsSloop" target="_blank" title="GcsSloop's GitHub">GitHub</a></li>
                  
                  
                
                  
                    <li class="navigation__item"><a href="/timeline" title="博客目录">目录</a></li>
                  
                  
                
                  
                    <li class="navigation__item"><a href="https://xiaozhuanlan.com/u/GcsSloop" target="_blank" title="小专栏">专栏</a></li>
                  
                  
                
                  
                    <li class="navigation__item"><a href="/customview/CustomViewIndex" title="自定义View教程目录">自定义控件</a></li>
                  
                  
                
                  
                    <li class="navigation__item"><a href="/friends" title="友链">友链</a></li>
                  
                  
                
              </ul>
            </nav>
          </div>
          
          <div><nav class="cover-navigation navigation--social">
  <ul class="navigation">

  
  <!-- Weibo -->
  <li class="navigation__item">
    <a href="http://weibo.com/GcsSloop" title="@GcsSloop 的微博" target="_blank">
      <i class='social fa fa-weibo'></i>
      <span class="label">Weibo</span>
    </a>
  </li>
  

  
  <!-- Github -->
  <li class="navigation__item">
    <a href="https://github.com/GcsSloop" title="@GcsSloop 的 Github" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>
  
  
  
  <!-- Twitter -->
  <li class="navigation__item">
    <a href="http://twitter.com/GcsSloop" title="@GcsSloop" target="_blank">
      <i class='social fa fa-twitter'></i>
      <span class="label">Twitter</span>
    </a>
  </li>
  

    

  

  
  <!-- RSS -->
  <li class="navigation__item">
    <a href="/feed.xml" rel="author" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>
  

  
  <!-- Email -->
  <li class="navigation__item">
    <a href="mailto:GcsSloop@gmail.com" title="发邮件给我">
      <i class='social fa fa-envelope'></i>
      <span class="label">Email</span>
    </a>
  </li>
  

  
  <!-- Copyright -->
  <li class="navigation__item">
    <a href="http://choosealicense.online" title="选择版权"  target="_blank">
      <i class="social fa fa-copyright"></i>
      <span class="label">版权</span>
    </a>
  </li>
  
  
  </ul>
</nav>
</div>
        </div>
      </div>
    </div>
    
    
    <div class="panel-cover--overlay cover-slate"></div>
    
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <div class="post-meta" style="font-size:.8em">
      <time datetime="2016-10-10 00:00:00 +0800" itemprop="datePublished" class="post-meta__date date">2016-10-10</time> &#8226; <span class="post-meta__tags tags">GcsSloop,python</span> &#8226; View <span id="busuanzi_value_page_pv"></span> times.
</span>
    </div>
    <h1 class="post-title">让脚本说话"厉害了我的哥"</h1>
  </header>

  <section class="post">
    <p>前段时间发现 Mac 上一个有趣的方法可以让系统说话。例如在终端输入：</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>say <span class="s2">"厉害了我的哥"</span>
</code></pre>
</div>

<p><img src="https://ws3.sinaimg.cn/large/cf673337jw1f8mjw9h099j204g04gwed" alt="" /></p>

<p>于是把我自己经常使用的图片压缩脚本升了一下级，<strong>人工</strong>(智能)<strong>语音提示，开启装逼新时代!</strong></p>

<blockquote>
  <p>本次升级进行了平台安全判断，不会影响其它平台用户的正常使用。<br />
在 Mac 上，它说话同时输出信息，在其他平台上只会输出信息。</p>
</blockquote>

<p><img src="https://ws3.sinaimg.cn/large/cf673337jw1f8mks1rzhqj20fu0a675e" alt="" /></p>

<p>语音提示默认开启，可以关闭语音提示，将源码中<code class="highlighter-rouge">voice</code>设置为 False 即关闭语音提示。</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">voice</span> <span class="o">=</span> <span class="bp">False</span> 	<span class="c"># 是否语音提示</span>
</code></pre>
</div>

<p>想要调教输出内容的自己进源文件修改吧，代码量不到一百行，短小精悍，纯种 Python，优雅简洁。相信对大家来说，调教一下也不是什么难事。</p>

<p><a href="https://raw.githubusercontent.com/GcsSloop/MacDeveloper/master/PythonProject/TinyPng/tinypng.py" target="_blank"><strong>点击此处下载脚本(右键 -&gt; 另存为)</strong></a></p>

<h2 id="使用方法">使用方法</h2>

<blockquote>
  <p><strong>注意：这是我的图片压缩脚本使用方法，不需要的可以关闭了。</strong></p>
</blockquote>

<h3 id="一配置环境">一.配置环境</h3>

<p><strong>Python:</strong> 保证电脑中存在 Python 环境，(如果是Mac，则自带的有Python环境)。</p>

<p><strong>Tinify:</strong> 导入Tinify</p>
<div class="highlighter-rouge"><pre class="highlight"><code>  pip install --upgrade tinify
</code></pre>
</div>

<h3 id="二申请-api-key">二.申请 API key</h3>

<p><a href="https://tinypng.com/developers" target="_blank">点击此处申请 API key</a></p>

<blockquote>

  <p>一个 key 每个月可以免费压缩500张图片，可以申请多个 key。</p>
</blockquote>

<h3 id="三配置脚本并运行">三.配置脚本并运行</h3>

<p><a href="https://raw.githubusercontent.com/GcsSloop/MacDeveloper/master/PythonProject/TinyPng/tinypng.py" target="_blank"><strong>点击此处下载脚本(右键 -&gt; 另存为)</strong></a></p>

<p>下载完该脚本后，你需要简单编辑一下该脚本，将申请到到API key 填写进去。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>tinify.key = "你申请到的API key"
</code></pre>
</div>

<p>之后你可以将该脚本放入到需要压缩的图片的文件夹下，然后在命令行(终端)中进入到该文件夹，执行如下命令即可:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>python tinypng.py
</code></pre>
</div>

<p>生成的文件会存入当前目录下一个名为tiny的文件夹中。</p>

<p><strong>运行示例及大小对比(有图有真相):</strong></p>

<p><img src="http://ww3.sinaimg.cn/large/005Xtdi2jw1f4mdtld2r9j30rs0hctcc.jpg" alt="" /></p>

<p><img src="http://ww2.sinaimg.cn/large/005Xtdi2jw1f4mdy2e8zjj30rs0hcwir.jpg" alt="" /></p>

<h3 id="四支持参数">四.支持参数</h3>

<p>在 v1.0.1 版本中进行了参数支持，详情见下表:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">参数</th>
      <th>参数类型</th>
      <th>摘要</th>
      <th>示例</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">无参</td>
      <td> </td>
      <td>压缩当前文件夹下所有图片文件</td>
      <td><code class="highlighter-rouge">tinypng.py</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">－f</code></td>
      <td>图像文件</td>
      <td>压缩指定的单个文件</td>
      <td><code class="highlighter-rouge">tinypng.py -f /User/GcsSloop/demo.jpg</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">－d</code></td>
      <td>文件夹</td>
      <td>压缩指定文件夹下所有图片文件</td>
      <td><code class="highlighter-rouge">tinypng.py -d /User/GcsSloop/DemoDir</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">-w</code></td>
      <td>整型数字</td>
      <td>压缩后图片的宽度，不指定则宽度不变</td>
      <td><code class="highlighter-rouge">tinypng.py -w 300</code></td>
    </tr>
  </tbody>
</table>

<p><strong>参数优先级:</strong></p>
<div class="highlighter-rouge"><pre class="highlight"><code>  －f &gt; －d &gt; 无参
</code></pre>
</div>
<p>如果指定了 <code class="highlighter-rouge">－f</code> 则只会压缩指定文件，即使后续跟了 <code class="highlighter-rouge">－d</code> 也不会压缩指定的文件夹</p>

<div class="highlighter-rouge"><pre class="highlight"><code> －w 无冲突，均可使用
</code></pre>
</div>

<p><code class="highlighter-rouge">－w</code> 用于指定压缩后图片的宽度(width)高度自适应缩放，所以均可使用，(选项没有先后顺序)示例如下:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>tinypng.py －w 300                              // 压缩当前目录所有图片文件，压缩后文件跨度为300

tinypng.py －w 300 -f /User/GcsSloop/demo.jpg   // 指定压缩一个文件，压缩后文件宽度为300
</code></pre>
</div>

<h3 id="五辅助优化">五.辅助优化</h3>

<p>这一步不是必要的步骤，只是帮助你优化一些内容:</p>

<p><strong>任意位置启动(适用于 Linux 和 OS X 平台):</strong></p>

<p>如果你觉得每次都需要复制 <code class="highlighter-rouge">tinypng.py</code> 文件到需要压缩到目录太麻烦， 可以将该脚本存储到一个文件夹中， 之后将该文件夹添加进环境变量，就能在任意位置执行该脚本了,(仅适用于 Linux 和 OS X 平台)
使用命令直接是文件名，前面无需加python,如:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>tinypng.py
</code></pre>
</div>

<p>如果使用直接使用文件名无法执行，则说明文件没有可执行权限，使用如下命令添加可执行权限:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>chmod +x tinypng.py
</code></pre>
</div>

<p><a href="https://github.com/GcsSloop/MacDeveloper/blob/master/Skill/Path.md" target="_blank">Mac 配置环境变量</a></p>

<p><strong>从当前目录启动(适用于 OS X 平台):</strong></p>

<p>如果从命令行中进入到某个目录比较麻烦，所以在 Mac 上你可以使用 XtraFinder 插件来给你的右键添加一个从当前目录启动选项，直接在当前目录下启动终端，添加方式在 XtraFinder 到偏好设置里面。</p>

<p>当然了，你也可以直接用 <code class="highlighter-rouge">tinypng.py -d 目录</code> 的形式直接指定压缩某个文件夹下的所有图片文件，非图片文件不会受到影响。</p>

<p><a href="https://github.com/GcsSloop/MacDeveloper/blob/master/Tools/XtraFinder.md" target="_blank">点击这里查看Finder增强插件到安装方法</a></p>

<p><img src="http://ww3.sinaimg.cn/large/005Xtdi2gw1f4kl9j34vij30rs0hcabg.jpg" alt="" /></p>

<p><a href="https://github.com/GcsSloop/MacDeveloper/blob/master/PythonProject/TinyPng/README.md" target="_blank"><strong>更多关于脚本的详情戳这里</strong></a><br />
<a href="https://tinypng.com/" target="_blank"><strong>Tinypng官网</strong></a></p>

<h2 id="about">About</h2>

<blockquote>
  <p>据说关注作者微博，不仅能第一时间收到新文章发布信息，还能变帅哦!</p>
</blockquote>

<h3 id="作者微博-gcssloop">作者微博: <a href="http://weibo.com/GcsSloop" target="_blank">@GcsSloop</a></h3>

<p><a href="http://www.gcssloop.com/info/about/" target="_blank"> <img src="http://ww4.sinaimg.cn/large/005Xtdi2gw1f1qn89ihu3j315o0dwwjc.jpg" width="300" style="display:inline;" /> </a></p>


    <hr>
  </section>
</article>

<!--捐赠晶石-->
<section class="contribute">
    <script type="text/javascript"> 
      function toggle() {
        var con = document.getElementById("contribute");
        if (con.style.display == "none") {
          con.style.display = "block";
        } else {
          con.style.display = "none";
        }
      }
    </script> 
    <blockquote style="background-color:#F5F5F5; padding: 10px 20px 20px 10px; margin:0px" >
      <h4> 如果你觉得我的文章对你有帮助的话，捐赠一些晶石! </h4>
      <p></p>
      <a class="btn-contribute" onclick="toggle()" >¥ 捐赠晶石</a>
      <br>
      <div id="contribute" style="display:none;">
        <p align="center" >
        <img src="/assets/images/wechat.png" alt="微信">
        <img src="/assets/images/alipay.png" alt="支付宝">
        </p>
        <p align="center" >
          感谢所有支持我的魔法师。
          <!--
          <a href="/contribute">点击这里查看捐赠者名单。</a>
          -->
        </p>
      </div>
    </blockquote>
</section>
<div>
  <h2>欢迎关注我的微信公众号</h2>
  <img src="/assets/images/banner.jpg" width="100%">
</div>

<!--阅读更多-->
<section class="read-more">
  
  
  <div class="read-more-item">
    <span class="read-more-item-dim">最近的文章</span>
    <h2 class="post-list__post-title post-title"><a href="/customview/dispatch-touchevent-source" title="link to 安卓自定义View进阶-事件分发机制详解">安卓自定义View进阶-事件分发机制详解</a></h2>
    <p class="excerpt">Android 事件分发机制详解，在上一篇文章 事件分发机制原理 中简要分析了一下事件分发机制的原理，原理是十分简单的，一句话就能总结：责任链模式，事件层层传递，直到被消费。 虽然原理简单，但是...&hellip;</p>
    <div class="post-list__meta">
      <time datetime="2016-10-14 00:00:00 +0800" class="post-list__meta--date date">2016-10-14</time> &#8226; <span class="post-list__meta--tags tags">CustomView</span>
      <br/><br/>
      <a style="float:none; margin:0 auto;" class="btn-border-small" href=/customview/dispatch-touchevent-source>继续阅读</a></div>
   </div>
   
   
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">更早的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/customview/dispatch-touchevent-theory" title="link to 安卓自定义View进阶-事件分发机制原理">安卓自定义View进阶-事件分发机制原理</a></h2>
       <p class="excerpt">之前讲解了很多与View绘图相关的知识，你可以在 安卓自定义View教程目录 中查看到这些文章，如果你理解了这些文章，那么至少2D绘图部分不是难题了，大部分的需求都能满足，但是关于View还有很...&hellip;</p>
       <div class="post-list__meta">
          <time datetime="2016-09-28 00:00:00 +0800" class="post-list__meta--date date">2016-09-28</time> &#8226; <span class="post-list__meta--tags tags">CustomView</span>
          <br/><br/>
          <a style="float:none; margin:0 auto;" class="btn-border-small" href=/customview/dispatch-touchevent-theory>继续阅读</a>
       </div>
   </div>
   
</section>

<!--网易云跟帖-->
<!--
<div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
<script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>
<script>
var cloudTieConfig = {
  url: document.location.href, 
  sourceId: "",
  productKey: "a85dba2840134721a7b69a15b2e0f217",
  target: "cloud-tie-wrapper"
};
var yunManualLoad = true;
Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);
</script>
-->


<!--
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
-->
<!-- OneV's Den -->
<!--
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3324997515191619"
     data-ad-slot="9170309685"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
-->

            <section class="footer">
    <footer>
    	<span class="footer__copyright">本站点采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh" target="_blank">知识共享 署名-非商业性使用-禁止演绎 4.0 国际 许可协议</a></span>
        <span class="footer__copyright">本站由 <a href="http://www.GcsSloop.com">@GcsSloop</a> 创建，采用 <a href="https://github.com/GcsSloop/Gcs-Vno-Jekyll" target="_blank">Gcs-Vno-Jekyll</a> 作为主题。<span id="busuanzi_container_site_pv"> 总访问量 <span id="busuanzi_value_site_pv"></span> 次</span> - &copy; 2018</span>
        <span class="footer__sitemap, footer__copyright"><a href="http://www.gcssloop.com/sitemap.xml" target="_blank">Site Map</a></span>
    </footer>
</section>

        </div>
    </div>
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script type="text/javascript" src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript" src="/js/main.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-82493667-1', 'auto');
  ga('send', 'pageview');

</script>

    
  </body>

</html>
